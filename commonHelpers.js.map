{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["'use strict';\nexport async function fetchImages(searchData) {\n  const searchParams = new URLSearchParams({\n    key: \"43838744-76530a55bebff011fa4d493be\",\n    q: searchData,\n    image_type: \"photo\",\n    orientation: \"horizontal\",\n    safesearch: \"true\"\n  });\n\nconst url = `https://pixabay.com/api/?${searchParams.toString()}`;\n\n  const response = await fetch(url);\n  if (!response.ok) {\n    throw new Error(`Failed to fetch images. Status: ${response.status}`);\n  }\n\n  return response.json();\n}                                             \n","\n'use strict';\n// Описаний у документації\nimport iziToast from \"izitoast\";\n// Додатковий імпорт стилів\nimport \"izitoast/dist/css/iziToast.min.css\";\n// Описаний у документації\nimport SimpleLightbox from \"simplelightbox\";\n// Додатковий імпорт стилів\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nexport function displayImages(images, gallery) {\n    const markup = images.map(image => `\n        <li class=\"gallery-item\">\n            <a class=\"gallery-link\" href=\"${image.largeImageURL}\">\n                <div class=\"full-image\">\n                    <img class=\"gallery-image\" src=\"${image.webformatURL}\" alt=\"${image.tags}\">\n                    <ul class=\"image-button\">\n                        <li><p>Likes</p><p>${image.likes}</p></li>\n                        <li><p>Views</p><p>${image.views}</p></li>\n                        <li><p>Comments</p><p>${image.comments}</p></li>\n                        <li><p>Downloads</p><p>${image.downloads}</p></li>\n                    </ul>\n                </div>\n            </a>\n        </li>\n    `).join('');\n    gallery.innerHTML = markup;\n\n    const lightbox = new SimpleLightbox('.gallery a', {\n        captionsData: 'alt',\n        captionDelay: 250,\n    });\n    lightbox.refresh();\n}\n\nexport function displayToast(message, type) {\n    iziToast[type]({\n        message,\n        messageColor: 'white',\n        position: 'topRight',\n        backgroundColor: 'red'\n\n    });\n}","'use strict';\nimport { fetchImages } from \"./js/pixabay-api.js\";\nimport { displayImages, displayToast } from \"./js/render-functions.js\";\n\nconst searchForm = document.querySelector(\"form\");\nconst gallery = document.querySelector(\".gallery\");\nconst loader = document.querySelector(\".spinner\");\n\nsearchForm.addEventListener(\"submit\", async (event) => {\n  event.preventDefault();\n  gallery.innerHTML = \"\";\n  loader.classList.remove(\"is-hidden\");\n\n   const searchData = event.target.elements.search_input.value.trim();\n    if (searchData === \"\") {\n        displayToast('All form fields must be filled in', 'warning');\n        loader.classList.add('is-hidden');\n        return;\n    }\n\n  try {\n    const images = await fetchImages(searchData);\n    if (images.total === 0) {\n      displayToast(\"Sorry, no images found. Please try again!\", \"error\");\n    } else {\n      displayImages(images.hits, gallery);\n    }\n  } catch (error) {\n    console.error(\"Error fetching images:\", error);\n    displayToast(\"An error occurred while fetching images. Please try again later.\", \"error\");\n  } finally {\n    searchForm.reset();\n    loader.classList.add(\"is-hidden\");\n  }\n});                                      "],"names":["fetchImages","searchData","url","response","displayImages","images","gallery","markup","image","SimpleLightbox","displayToast","message","type","iziToast","searchForm","loader","event","error"],"mappings":"6vBACO,eAAeA,EAAYC,EAAY,CAS9C,MAAMC,EAAM,4BARW,IAAI,gBAAgB,CACvC,IAAK,qCACL,EAAGD,EACH,WAAY,QACZ,YAAa,aACb,WAAY,MAChB,CAAG,EAEkD,SAAQ,CAAE,GAEvDE,EAAW,MAAM,MAAMD,CAAG,EAChC,GAAI,CAACC,EAAS,GACZ,MAAM,IAAI,MAAM,mCAAmCA,EAAS,MAAM,EAAE,EAGtE,OAAOA,EAAS,MAClB,CCPO,SAASC,EAAcC,EAAQC,EAAS,CAC3C,MAAMC,EAASF,EAAO,IAAIG,GAAS;AAAA;AAAA,4CAEKA,EAAM,aAAa;AAAA;AAAA,sDAETA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA,6CAE/CA,EAAM,KAAK;AAAA,6CACXA,EAAM,KAAK;AAAA,gDACRA,EAAM,QAAQ;AAAA,iDACbA,EAAM,SAAS;AAAA;AAAA;AAAA;AAAA;AAAA,KAK3D,EAAE,KAAK,EAAE,EACVF,EAAQ,UAAYC,EAEH,IAAIE,EAAe,aAAc,CAC9C,aAAc,MACd,aAAc,GACtB,CAAK,EACQ,QAAO,CACpB,CAEO,SAASC,EAAaC,EAASC,EAAM,CACxCC,EAASD,CAAI,EAAE,CACX,QAAAD,EACA,aAAc,QACd,SAAU,WACV,gBAAiB,KAEzB,CAAK,CACL,CCxCA,MAAMG,EAAa,SAAS,cAAc,MAAM,EAC1CR,EAAU,SAAS,cAAc,UAAU,EAC3CS,EAAS,SAAS,cAAc,UAAU,EAEhDD,EAAW,iBAAiB,SAAU,MAAOE,GAAU,CACrDA,EAAM,eAAc,EACpBV,EAAQ,UAAY,GACpBS,EAAO,UAAU,OAAO,WAAW,EAElC,MAAMd,EAAae,EAAM,OAAO,SAAS,aAAa,MAAM,OAC3D,GAAIf,IAAe,GAAI,CACnBS,EAAa,oCAAqC,SAAS,EAC3DK,EAAO,UAAU,IAAI,WAAW,EAChC,MACH,CAEH,GAAI,CACF,MAAMV,EAAS,MAAML,EAAYC,CAAU,EACvCI,EAAO,QAAU,EACnBK,EAAa,4CAA6C,OAAO,EAEjEN,EAAcC,EAAO,KAAMC,CAAO,CAErC,OAAQW,EAAO,CACd,QAAQ,MAAM,yBAA0BA,CAAK,EAC7CP,EAAa,mEAAoE,OAAO,CAC5F,QAAY,CACRI,EAAW,MAAK,EAChBC,EAAO,UAAU,IAAI,WAAW,CACjC,CACH,CAAC"}